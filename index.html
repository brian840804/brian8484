<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>歷史飲食互動地圖</title>
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  
  <!-- 自定義 CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<script src="script.silkroad-click-patch.js"></script>
<body>
<!-- 載入指示器 -->
<div class="loading-overlay" id="loading-overlay">
  <div class="loading-spinner"></div>
  <div class="loading-text" id="loading-text">載入歷史地圖中...</div>
  <div class="loading-subtitle" id="loading-subtitle">正在準備資料</div>
  <div class="loading-progress">
    <div class="loading-progress-bar" id="loading-progress-bar"></div>
  </div>
  <div class="loading-stages">
    <div class="loading-stage" id="stage-1"></div>
    <div class="loading-stage" id="stage-2"></div>
    <div class="loading-stage" id="stage-3"></div>
    <div class="loading-stage" id="stage-4"></div>
    <div class="loading-stage" id="stage-5"></div>
  </div>
</div>
  <!-- 地圖容器 -->
  <div id="map"></div>
  
  <!-- 整合控制面板 -->
<div class="control-panel" id="control-panel">
  <div class="control-panel-header">
    <div class="control-panel-title">地圖控制</div>
    <button class="toggle-btn" id="panel-toggle" title="收合面板">
      <span id="toggle-icon">❮</span>
    </button>
  </div>
  
  <div class="region-buttons">
    <h3>地區選擇</h3>
    <button class="region-button" id="btn-east-asia">
      🌏 東亞地區
    </button>
    <button class="region-button" id="btn-med-region">
      🏛️ 西亞·歐洲·北非
    </button>
    <button class="region-button" id="btn-latam">
      🌎 中南美洲
    </button>
    <button class="region-button" id="btn-taiwan">
      🏝️ 台灣地區
    </button>
  </div>
  
  <div class="section-filters">
    <h3>章節篩選</h3>
    <div class="section-checkbox-group">
      <label>
        <input type="checkbox" class="section-checkbox" value="1-1" checked>
        第一節
      </label>
      <label>
        <input type="checkbox" class="section-checkbox" value="1-2" checked>
        第二節
      </label>
      <label>
        <input type="checkbox" class="section-checkbox" value="1-3" checked>
        第三節
      </label>
    </div>
  </div>
</div>
  
  <!-- 頂部標籤列 -->
  <div class="topbar-labels">
    <div id="era-label" class="era-label"></div>
    <div class="divider-bar"></div>
    <div class="time-label" id="time-current"></div>
  </div>
  
  <!-- 時間軸容器 -->
  <div class="tick-menu-container">
    <div class="ticks-wrapper" id="ticks-wrapper"></div>
  </div>
  
  <!-- 教學面板 -->
  <div class="teach-panel" id="teach-panel">
    <button class="close-btn" id="teach-panel-close" title="關閉">&times;</button>
    <div class="teach-panel-title" id="teach-panel-title"></div>
    <div class="teach-panel-content" id="teach-panel-content"></div>
  </div>

  <!-- JavaScript 庫 -->
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  
  <!-- SheetJS (用於讀取 Excel 檔案) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  
  <!-- 主要腳本 -->
  <script src="script.js"></script>
</body>

</html>
